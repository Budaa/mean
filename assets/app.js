var app=angular.module("app",["ngRoute"]);angular.module("app").controller("ApplicationCtrl",["$scope","UserSvc",function(e,t){window.localStorage.token&&t.setXAuthHeader(window.localStorage.token).then(function(t){e.$emit("login",t.data)}),e.$on("login",function(t,o){e.currentUser=o}),e.logout=function(){delete e.currentUser,delete e.post,delete window.localStorage.token,t.logout()}}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc","$location","$route",function(e,t,o,n){e.login=function(r,s){t.login(r,s).then(function(t){delete e.loginError,e.$emit("login",t.data),o.path("/"),n.reload()},function(){e.loginError="Wrong username or password"})}}]),angular.module("app").controller("PostsCtrl",["$scope","PostsSvc",function(e,t){e.addPost=function(){e.postBody&&t.create({username:e.currentUser._id,body:e.postBody}).success(function(t){t.username={username:e.currentUser.username},e.posts.unshift(t),e.postBody=null})},e.removePost=function(o,n){console.log(o),t.deletePost({id:o}).success(function(){alert("Post has been deleted"),e.posts.splice(n,1)}).error(function(e){console.log(e)})},t.fetch().success(function(t){e.posts=t,console.log(e.posts)}).error(function(){e.postserr="Please log in!"})}]),angular.module("app").service("PostsSvc",["$http",function(e){this.fetch=function(t){return e.get("/api/posts",t)},this.create=function(t){return e.post("/api/posts",t)},this.deletePost=function(t){return e.put("/api/posts",t)}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc","$location",function(e,t,o){e.register=function(n,r,s){return n?s==r&&s?void t.createUser(n,r).then(function(t){e.$emit("login",t.data),o.path("/")},function(t){e.registerError=t.data,e.username="",e.password="",e.password2=""}):(e.registerError="Passwords don't match",null):(e.registerError="Please, select your username.",null)}}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{controller:"PostsCtrl",templateUrl:"posts.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"})}]),angular.module("app").service("UserSvc",["$http","$location",function(e,t){var o=this;o.getUser=function(){return e.get("/api/users")},o.login=function(t,n){return e.post("/api/sessions",{username:t,password:n}).then(function(t){return window.localStorage.token=t.data,e.defaults.headers.common["X-Auth"]=t.data,o.getUser()})},o.createUser=function(t,n){return e.post("/api/users",{username:t,password:n}).then(function(){return o.login(t,n)})},o.logout=function(){e.defaults.headers.common["X-Auth"]="",t.path("/login")},o.setXAuthHeader=function(t){return e.defaults.headers.common["X-Auth"]=t,o.getUser()}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJsb2dpbi5jdHJsLmpzIiwicG9zdHMuY3RybC5qcyIsInBvc3RzLnN2Yy5qcyIsInJlZ2lzdGVyLmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1c2VyLnN2Yy5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIlVzZXJTdmMiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJ0b2tlbiIsInNldFhBdXRoSGVhZGVyIiwidGhlbiIsInVzZXIiLCIkZW1pdCIsImRhdGEiLCIkb24iLCJfIiwiY3VycmVudFVzZXIiLCJsb2dvdXQiLCJwb3N0IiwiJGxvY2F0aW9uIiwiJHJvdXRlIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicmVzcG9uc2UiLCJsb2dpbkVycm9yIiwicGF0aCIsInJlbG9hZCIsIlBvc3RzU3ZjIiwiYWRkUG9zdCIsInBvc3RCb2R5IiwiY3JlYXRlIiwiX2lkIiwiYm9keSIsInN1Y2Nlc3MiLCJwb3N0cyIsInVuc2hpZnQiLCJyZW1vdmVQb3N0IiwiaWQiLCJpbmRleCIsImNvbnNvbGUiLCJsb2ciLCJkZWxldGVQb3N0IiwiYWxlcnQiLCJzcGxpY2UiLCJlcnJvciIsImVyciIsImZldGNoIiwicG9zdHNlcnIiLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0IiwicHV0IiwicmVnaXN0ZXIiLCJwYXNzd29yZDIiLCJjcmVhdGVVc2VyIiwicmVnaXN0ZXJFcnJvciIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwic3ZjIiwiZ2V0VXNlciIsInZhbCIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImhlYWRlciJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBQUEsS0FBQUMsUUFBQUMsT0FBQSxPQUNBLFdDREFELFNBQUFDLE9BQUEsT0FDQUMsV0FBQSxtQkFBQSxTQUFBLFVBQUEs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QyxHQUFBWCxJQUNBVyxHQUFBQyxRQUFBLFdBQ0EsTUFBQWIsR0FBQUUsSUFBQSxlQUdBVSxFQUFBekMsTUFBQSxTQUFBQyxFQUFBQyxHQUNBLE1BQUEyQixHQUFBaEMsS0FBQSxpQkFDQUksU0FBQUEsRUFDQUMsU0FBQUEsSUFDQWIsS0FBQSxTQUFBc0QsR0FHQSxNQUZBMUQsUUFBQUMsYUFBQUMsTUFBQXdELEVBQUFuRCxLQUNBcUMsRUFBQWUsU0FBQUMsUUFBQUMsT0FBQSxVQUFBSCxFQUFBbkQsS0FDQWlELEVBQUFDLGFBSUFELEVBQUFOLFdBQUEsU0FBQWxDLEVBQUFDLEdBQ0EsTUFBQTJCLEdBQUFoQyxLQUFBLGNBQ0FJLFNBQUFBLEVBQ0FDLFNBQUFBLElBQ0FiLEtBQUEsV0FDQSxNQUFBb0QsR0FBQXpDLE1BQUFDLEVBQUFDLE1BSUF1QyxFQUFBN0MsT0FBQSxXQUNBaUMsRUFBQWUsU0FBQUMsUUFBQUMsT0FBQSxVQUFBLEdBRUFoRCxFQUFBTyxLQUFBLFdBR0FvQyxFQUFBckQsZUFBQSxTQUFBMkQsR0FFQSxNQURBbEIsR0FBQWUsU0FBQUMsUUFBQUMsT0FBQSxVQUFBQyxFQUNBTixFQUFBQyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcblx0J25nUm91dGUnXG5dKSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ3RybCcsIFsnJHNjb3BlJywgJ1VzZXJTdmMnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMpe1xuXHRpZih3aW5kb3cubG9jYWxTdG9yYWdlLnRva2VuKSB7XG5cdFx0VXNlclN2Yy5zZXRYQXV0aEhlYWRlcih3aW5kb3cubG9jYWxTdG9yYWdlLnRva2VuKVxuXHRcdFx0LnRoZW4oZnVuY3Rpb24odXNlcil7XG5cdFx0XHRcdCRzY29wZS4kZW1pdCgnbG9naW4nLCB1c2VyLmRhdGEpXG5cdFx0XHR9KVxuXHR9XG5cdCRzY29wZS4kb24oJ2xvZ2luJywgZnVuY3Rpb24oXywgdXNlcikge1xuXHRcdCRzY29wZS5jdXJyZW50VXNlciA9IHVzZXJcblx0fSlcblx0JHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuXHRcdGRlbGV0ZSAkc2NvcGUuY3VycmVudFVzZXJcblx0XHRkZWxldGUgJHNjb3BlLnBvc3Rcblx0XHRkZWxldGUgd2luZG93LmxvY2FsU3RvcmFnZS50b2tlblxuXHRcdFVzZXJTdmMubG9nb3V0KClcblx0fVxufV0pXG5cbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIFsnJHNjb3BlJywgJ1VzZXJTdmMnLCAnJGxvY2F0aW9uJywgJyRyb3V0ZScsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uLCAkcm91dGUpe1xuXHQkc2NvcGUubG9naW4gPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcblx0XHRVc2VyU3ZjLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcblx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdGRlbGV0ZSAkc2NvcGUubG9naW5FcnJvclxuXHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzcG9uc2UuZGF0YSlcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy8nKVxuXHRcdFx0XHQkcm91dGUucmVsb2FkKClcblx0XHRcdH0sIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0JHNjb3BlLmxvZ2luRXJyb3IgPSBcIldyb25nIHVzZXJuYW1lIG9yIHBhc3N3b3JkXCJcblx0XHRcdH0pXG5cdH1cbn1dKSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ1Bvc3RzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgUG9zdHNTdmMpe1xuXHQkc2NvcGUuYWRkUG9zdCA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmKCRzY29wZS5wb3N0Qm9keSkge1xuXHRcdFx0UG9zdHNTdmMuY3JlYXRlKHtcblx0XHRcdFx0dXNlcm5hbWU6ICRzY29wZS5jdXJyZW50VXNlci5faWQsXG5cdFx0XHRcdGJvZHk6ICRzY29wZS5wb3N0Qm9keVxuXG5cdFx0XHR9KS5zdWNjZXNzKGZ1bmN0aW9uKHBvc3QpIHtcblx0XHRcdFx0cG9zdC51c2VybmFtZSA9IHt1c2VybmFtZTogJHNjb3BlLmN1cnJlbnRVc2VyLnVzZXJuYW1lfVxuXHRcdFx0XHQkc2NvcGUucG9zdHMudW5zaGlmdChwb3N0KVxuXHRcdFx0XHQkc2NvcGUucG9zdEJvZHkgPSBudWxsXG5cdFx0XHR9KVxuXHRcdH1cblx0fVxuXG5cdCRzY29wZS5yZW1vdmVQb3N0ID0gZnVuY3Rpb24oaWQsIGluZGV4KSB7XG5cdFx0Y29uc29sZS5sb2coaWQpXG5cdFx0UG9zdHNTdmMuZGVsZXRlUG9zdCh7aWQ6IGlkfSkuc3VjY2VzcyhmdW5jdGlvbigpe1xuXHRcdFx0YWxlcnQoJ1Bvc3QgaGFzIGJlZW4gZGVsZXRlZCcpXG5cdFx0XHQkc2NvcGUucG9zdHMuc3BsaWNlKGluZGV4LCAxKVxuXHRcdH0pLmVycm9yKGZ1bmN0aW9uKGVycil7XG5cdFx0XHRjb25zb2xlLmxvZyhlcnIpXG5cdFx0fSlcblx0fVxuXG5cdFBvc3RzU3ZjLmZldGNoKCkuc3VjY2VzcyhmdW5jdGlvbihwb3N0cykge1xuXHRcdCRzY29wZS5wb3N0cyA9IHBvc3RzXG5cdFx0XHRjb25zb2xlLmxvZygkc2NvcGUucG9zdHMpXG5cdH0pLmVycm9yKGZ1bmN0aW9uKCl7XG5cdFx0JHNjb3BlLnBvc3RzZXJyID0gXCJQbGVhc2UgbG9nIGluIVwiXG5cdH0pXG59KVxuXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcblx0LnNlcnZpY2UoJ1Bvc3RzU3ZjJywgZnVuY3Rpb24oJGh0dHApe1xuXG5cdFx0dGhpcy5mZXRjaCA9IGZ1bmN0aW9uKGlkKSB7IFxuXHRcdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS9wb3N0cycsIGlkKVxuXHRcdH1cblx0XHR0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKHBvc3QpIHtcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Bvc3RzJywgcG9zdClcblx0XHR9XG5cblx0XHR0aGlzLmRlbGV0ZVBvc3QgPSBmdW5jdGlvbihpZCkge1xuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL2FwaS9wb3N0cycsIGlkKVxuXG5cdFx0fVxuXHR9KVxuXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdSZWdpc3RlckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbil7XG5cdCRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgcGFzc3dvcmQyKXtcblx0XHRpZiAoIXVzZXJuYW1lKSB7XG5cdFx0XHQkc2NvcGUucmVnaXN0ZXJFcnJvciA9IFwiUGxlYXNlLCBzZWxlY3QgeW91ciB1c2VybmFtZS5cIlxuXHRcdFx0cmV0dXJuIG51bGxcblx0XHR9XG5cblx0XHRpZiggcGFzc3dvcmQyICE9IHBhc3N3b3JkIHx8ICFwYXNzd29yZDIpIHtcblx0XHRcdCRzY29wZS5yZWdpc3RlckVycm9yID0gXCJQYXNzd29yZHMgZG9uJ3QgbWF0Y2hcIlxuXHRcdFx0cmV0dXJuIG51bGxcblx0XHR9XG5cdFx0VXNlclN2Yy5jcmVhdGVVc2VyKHVzZXJuYW1lLCBwYXNzd29yZClcblx0XHRcdC50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcblx0XHRcdFx0JHNjb3BlLiRlbWl0KCdsb2dpbicsIHVzZXIuZGF0YSlcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy8nKVxuXHRcdH0sIGZ1bmN0aW9uKGVycikge1xuXHRcdFx0JHNjb3BlLnJlZ2lzdGVyRXJyb3IgPSBlcnIuZGF0YVxuXHRcdFx0JHNjb3BlLnVzZXJuYW1lID0gJydcblx0XHRcdCRzY29wZS5wYXNzd29yZCA9ICcnXG5cdFx0XHQkc2NvcGUucGFzc3dvcmQyID0gJydcblx0XHR9KVxuXHR9IFxufSlcblxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG5cdC5jb25maWcoZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIpIHtcblx0XHQkcm91dGVQcm92aWRlclxuXHRcdC53aGVuKCcvJywgeyBjb250cm9sbGVyOiAnUG9zdHNDdHJsJywgdGVtcGxhdGVVcmw6ICdwb3N0cy5odG1sJyB9KVxuXHRcdC53aGVuKCcvcmVnaXN0ZXInLCB7IGNvbnRyb2xsZXI6ICdSZWdpc3RlckN0cmwnLCB0ZW1wbGF0ZVVybDogJ3JlZ2lzdGVyLmh0bWwnIH0pXG5cdFx0LndoZW4oJy9sb2dpbicsIHsgY29udHJvbGxlcjogJ0xvZ2luQ3RybCcsIHRlbXBsYXRlVXJsOiAnbG9naW4uaHRtbCcgfSlcblx0XHRcblx0fSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5zZXJ2aWNlKCdVc2VyU3ZjJywgZnVuY3Rpb24gKCRodHRwLCAkbG9jYXRpb24pIHtcblx0dmFyIHN2YyA9IHRoaXNcblx0c3ZjLmdldFVzZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICRodHRwLmdldCgnL2FwaS91c2VycycpXG5cdH1cblxuXHRzdmMubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLCB7XG5cdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsXG5cdFx0XHRwYXNzd29yZDogcGFzc3dvcmRcblx0XHR9KS50aGVuKGZ1bmN0aW9uICh2YWwpIHtcblx0XHRcdHdpbmRvdy5sb2NhbFN0b3JhZ2UudG9rZW4gPSB2YWwuZGF0YVxuXHRcdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gdmFsLmRhdGFcblx0XHRcdHJldHVybiBzdmMuZ2V0VXNlcigpXG5cdFx0fSlcblx0fVxuXG5cdHN2Yy5jcmVhdGVVc2VyID0gZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKSB7XG5cdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMnLCB7XG5cdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsXG5cdFx0XHRwYXNzd29yZDogcGFzc3dvcmRcblx0XHR9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIFx0XHRyZXR1cm4gc3ZjLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcbiAgICBcdH0pXG5cdH1cblxuXHRzdmMubG9nb3V0ID0gZnVuY3Rpb24oKXtcblx0XHQkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ10gPSAnJ1xuXHRcdFxuXHRcdCRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKVxuXHR9XG5cblx0c3ZjLnNldFhBdXRoSGVhZGVyID0gZnVuY3Rpb24oaGVhZGVyKXtcblx0XHQkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ10gPSBoZWFkZXJcblx0XHRyZXR1cm4gc3ZjLmdldFVzZXIoKVxuXHR9XG59KSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
