var app=angular.module("app",["ngRoute"]);angular.module("app").controller("ApplicationCtrl",["$scope","UserSvc",function(e,t){window.localStorage.token&&t.setXAuthHeader(window.localStorage.token).then(function(t){e.$emit("login",t.data)}),e.$on("login",function(t,o){e.currentUser=o}),e.logout=function(){delete e.currentUser,delete e.posts,delete window.localStorage.token,t.logout()}}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc","$location",function(e,t,o){e.login=function(n,r){t.login(n,r).then(function(t){delete e.loginError,e.$emit("login",t.data),o.path("/")},function(){e.loginError="Wrong username or password"})}}]),angular.module("app").controller("PostsCtrl",["$scope","PostsSvc",function(e,t){e.addPost=function(){e.postBody&&t.create({username:e.currentUser._id,body:e.postBody}).success(function(t){t.username={username:e.currentUser.username},e.posts.unshift(t),e.postBody=null})},e.removePost=function(o,n){console.log(o),t.deletePost({id:o}).success(function(){alert("Post has been deleted"),e.posts.splice(n,1)}).error(function(e){console.log(e)})},t.fetch().success(function(t){e.posts=t,console.log(e.posts)}).error(function(){e.postserr="Please log in!"})}]),angular.module("app").service("PostsSvc",["$http",function(e){this.fetch=function(t){return e.get("/api/posts",t)},this.create=function(t){return e.post("/api/posts",t)},this.deletePost=function(t){return e.put("/api/posts",t)}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc","$location",function(e,t,o){e.register=function(n,r,s){return n?s==r&&s?void t.createUser(n,r).then(function(t){e.$emit("login",t.data),o.path("/")},function(t){e.registerError=t.data,e.username="",e.password="",e.password2=""}):(e.registerError="Passwords don't match",null):(e.registerError="Please, select your username.",null)}}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{controller:"PostsCtrl",templateUrl:"posts.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"})}]),angular.module("app").service("UserSvc",["$http","$location",function(e,t){var o=this;o.getUser=function(){return e.get("/api/users")},o.login=function(t,n){return e.post("/api/sessions",{username:t,password:n}).then(function(t){return window.localStorage.token=t.data,e.defaults.headers.common["X-Auth"]=t.data,o.getUser()})},o.createUser=function(t,n){return e.post("/api/users",{username:t,password:n}).then(function(){return o.login(t,n)})},o.logout=function(){e.defaults.headers.common["X-Auth"]="",t.path("/login")},o.setXAuthHeader=function(t){return e.defaults.headers.common["X-Auth"]=t,o.getUser()}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJsb2dpbi5jdHJsLmpzIiwicG9zdHMuY3RybC5qcyIsInBvc3RzLnN2Yy5qcyIsInJlZ2lzdGVyLmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1c2VyLnN2Yy5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIlVzZXJTdmMiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJ0b2tlbiIsInNldFhBdXRoSGVhZGVyIiwidGhlbiIsInVzZXIiLCIkZW1pdCIsImRhdGEiLCIkb24iLCJfIiwiY3VycmVudFVzZXIiLCJsb2dvdXQiLCJwb3N0cyIsIiRsb2NhdGlvbiIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJlc3BvbnNlIiwibG9naW5FcnJvciIsInBhdGgiLCJQb3N0c1N2YyIsImFkZFBvc3QiLCJwb3N0Qm9keSIsImNyZWF0ZSIsIl9pZCIsImJvZHkiLCJzdWNjZXNzIiwicG9zdCIsInVuc2hpZnQiLCJyZW1vdmVQb3N0IiwiaWQiLCJpbmRleCIsImNvbnNvbGUiLCJsb2ciLCJkZWxldGVQb3N0IiwiYWxlcnQiLCJzcGxpY2UiLCJlcnJvciIsImVyciIsImZldGNoIiwicG9zdHNlcnIiLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0IiwicHV0IiwicmVnaXN0ZXIiLCJwYXNzd29yZDIiLCJjcmVhdGVVc2VyIiwicmVnaXN0ZXJFcnJvciIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwic3ZjIiwiZ2V0VXNlciIsInZhbCIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImhlYWRlciJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBQUEsS0FBQUMsUUFBQUMsT0FBQSxPQUNBLFdDREFELFNBQUFDLE9BQUEsT0FDQUMsV0FBQSxtQkFBQSxTQUFBLFVBQUEsU0FBQUMsRUFBQUMsR0FDQUMs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QUdBVSxFQUFBeEMsTUFBQSxTQUFBQyxFQUFBQyxHQUNBLE1BQUEwQixHQUFBZixLQUFBLGlCQUNBWixTQUFBQSxFQUNBQyxTQUFBQSxJQUNBWixLQUFBLFNBQUFvRCxHQUdBLE1BRkF4RCxRQUFBQyxhQUFBQyxNQUFBc0QsRUFBQWpELEtBQ0FtQyxFQUFBZSxTQUFBQyxRQUFBQyxPQUFBLFVBQUFILEVBQUFqRCxLQUNBK0MsRUFBQUMsYUFJQUQsRUFBQU4sV0FBQSxTQUFBakMsRUFBQUMsR0FDQSxNQUFBMEIsR0FBQWYsS0FBQSxjQUNBWixTQUFBQSxFQUNBQyxTQUFBQSxJQUNBWixLQUFBLFdBQ0EsTUFBQWtELEdBQUF4QyxNQUFBQyxFQUFBQyxNQUlBc0MsRUFBQTNDLE9BQUEsV0FDQStCLEVBQUFlLFNBQUFDLFFBQUFDLE9BQUEsVUFBQSxHQUNBOUMsRUFBQU0sS0FBQSxXQUdBbUMsRUFBQW5ELGVBQUEsU0FBQXlELEdBRUEsTUFEQWxCLEdBQUFlLFNBQUFDLFFBQUFDLE9BQUEsVUFBQUMsRUFDQU4sRUFBQUMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXG5cdCduZ1JvdXRlJ1xuXSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdBcHBsaWNhdGlvbkN0cmwnLCBbJyRzY29wZScsICdVc2VyU3ZjJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjKXtcblx0aWYod2luZG93LmxvY2FsU3RvcmFnZS50b2tlbikge1xuXHRcdFVzZXJTdmMuc2V0WEF1dGhIZWFkZXIod2luZG93LmxvY2FsU3RvcmFnZS50b2tlbilcblx0XHRcdC50aGVuKGZ1bmN0aW9uKHVzZXIpe1xuXHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgdXNlci5kYXRhKVxuXHRcdFx0fSlcblx0fVxuXHQkc2NvcGUuJG9uKCdsb2dpbicsIGZ1bmN0aW9uKF8sIHVzZXIpIHtcblx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSB1c2VyXG5cdH0pXG5cdCRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbigpIHtcblx0XHRkZWxldGUgJHNjb3BlLmN1cnJlbnRVc2VyXG5cdFx0ZGVsZXRlICRzY29wZS5wb3N0c1xuXHRcdGRlbGV0ZSB3aW5kb3cubG9jYWxTdG9yYWdlLnRva2VuXG5cdFx0VXNlclN2Yy5sb2dvdXQoKVxuXHR9XG59XSlcblxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignTG9naW5DdHJsJywgWyckc2NvcGUnLCAnVXNlclN2YycsICckbG9jYXRpb24nLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTdmMsICRsb2NhdGlvbil7XG5cdCRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuXHRcdFVzZXJTdmMubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxuXHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0ZGVsZXRlICRzY29wZS5sb2dpbkVycm9yXG5cdFx0XHRcdCRzY29wZS4kZW1pdCgnbG9naW4nLCByZXNwb25zZS5kYXRhKVxuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnLycpXG5cdFx0XHR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCRzY29wZS5sb2dpbkVycm9yID0gXCJXcm9uZyB1c2VybmFtZSBvciBwYXNzd29yZFwiXG5cdFx0XHR9KVxuXHR9XG59XSkiLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdQb3N0c0N0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFBvc3RzU3ZjKXtcblx0JHNjb3BlLmFkZFBvc3QgPSBmdW5jdGlvbigpIHtcblx0XHRpZigkc2NvcGUucG9zdEJvZHkpIHtcblx0XHRcdFBvc3RzU3ZjLmNyZWF0ZSh7XG5cdFx0XHRcdHVzZXJuYW1lOiAkc2NvcGUuY3VycmVudFVzZXIuX2lkLFxuXHRcdFx0XHRib2R5OiAkc2NvcGUucG9zdEJvZHlcblxuXHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbihwb3N0KSB7XG5cdFx0XHRcdHBvc3QudXNlcm5hbWUgPSB7dXNlcm5hbWU6ICRzY29wZS5jdXJyZW50VXNlci51c2VybmFtZX1cblx0XHRcdFx0JHNjb3BlLnBvc3RzLnVuc2hpZnQocG9zdClcblx0XHRcdFx0JHNjb3BlLnBvc3RCb2R5ID0gbnVsbFxuXHRcdFx0fSlcblx0XHR9XG5cdH1cblxuXHQkc2NvcGUucmVtb3ZlUG9zdCA9IGZ1bmN0aW9uKGlkLCBpbmRleCkge1xuXHRcdGNvbnNvbGUubG9nKGlkKVxuXHRcdFBvc3RzU3ZjLmRlbGV0ZVBvc3Qoe2lkOiBpZH0pLnN1Y2Nlc3MoZnVuY3Rpb24oKXtcblx0XHRcdGFsZXJ0KCdQb3N0IGhhcyBiZWVuIGRlbGV0ZWQnKVxuXHRcdFx0JHNjb3BlLnBvc3RzLnNwbGljZShpbmRleCwgMSlcblx0XHR9KS5lcnJvcihmdW5jdGlvbihlcnIpe1xuXHRcdFx0Y29uc29sZS5sb2coZXJyKVxuXHRcdH0pXG5cdH1cblxuXHRQb3N0c1N2Yy5mZXRjaCgpLnN1Y2Nlc3MoZnVuY3Rpb24ocG9zdHMpIHtcblx0XHQkc2NvcGUucG9zdHMgPSBwb3N0c1xuXHRcdFx0Y29uc29sZS5sb2coJHNjb3BlLnBvc3RzKVxuXHR9KS5lcnJvcihmdW5jdGlvbigpe1xuXHRcdCRzY29wZS5wb3N0c2VyciA9IFwiUGxlYXNlIGxvZyBpbiFcIlxuXHR9KVxufSlcblxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG5cdC5zZXJ2aWNlKCdQb3N0c1N2YycsIGZ1bmN0aW9uKCRodHRwKXtcblxuXHRcdHRoaXMuZmV0Y2ggPSBmdW5jdGlvbihpZCkgeyBcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcG9zdHMnLCBpZClcblx0XHR9XG5cdFx0dGhpcy5jcmVhdGUgPSBmdW5jdGlvbihwb3N0KSB7XG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wb3N0cycsIHBvc3QpXG5cdFx0fVxuXG5cdFx0dGhpcy5kZWxldGVQb3N0ID0gZnVuY3Rpb24oaWQpIHtcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9hcGkvcG9zdHMnLCBpZClcblxuXHRcdH1cblx0fSlcblxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignUmVnaXN0ZXJDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pe1xuXHQkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQsIHBhc3N3b3JkMil7XG5cdFx0aWYgKCF1c2VybmFtZSkge1xuXHRcdFx0JHNjb3BlLnJlZ2lzdGVyRXJyb3IgPSBcIlBsZWFzZSwgc2VsZWN0IHlvdXIgdXNlcm5hbWUuXCJcblx0XHRcdHJldHVybiBudWxsXG5cdFx0fVxuXG5cdFx0aWYoIHBhc3N3b3JkMiAhPSBwYXNzd29yZCB8fCAhcGFzc3dvcmQyKSB7XG5cdFx0XHQkc2NvcGUucmVnaXN0ZXJFcnJvciA9IFwiUGFzc3dvcmRzIGRvbid0IG1hdGNoXCJcblx0XHRcdHJldHVybiBudWxsXG5cdFx0fVxuXHRcdFVzZXJTdmMuY3JlYXRlVXNlcih1c2VybmFtZSwgcGFzc3dvcmQpXG5cdFx0XHQudGhlbihmdW5jdGlvbih1c2VyKSB7XG5cdFx0XHRcdCRzY29wZS4kZW1pdCgnbG9naW4nLCB1c2VyLmRhdGEpXG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvJylcblx0XHR9LCBmdW5jdGlvbihlcnIpIHtcblx0XHRcdCRzY29wZS5yZWdpc3RlckVycm9yID0gZXJyLmRhdGFcblx0XHRcdCRzY29wZS51c2VybmFtZSA9ICcnXG5cdFx0XHQkc2NvcGUucGFzc3dvcmQgPSAnJ1xuXHRcdFx0JHNjb3BlLnBhc3N3b3JkMiA9ICcnXG5cdFx0fSlcblx0fSBcbn0pXG5cbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuXHQuY29uZmlnKGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG5cdFx0JHJvdXRlUHJvdmlkZXJcblx0XHQud2hlbignLycsIHsgY29udHJvbGxlcjogJ1Bvc3RzQ3RybCcsIHRlbXBsYXRlVXJsOiAncG9zdHMuaHRtbCcgfSlcblx0XHQud2hlbignL3JlZ2lzdGVyJywgeyBjb250cm9sbGVyOiAnUmVnaXN0ZXJDdHJsJywgdGVtcGxhdGVVcmw6ICdyZWdpc3Rlci5odG1sJyB9KVxuXHRcdC53aGVuKCcvbG9naW4nLCB7IGNvbnRyb2xsZXI6ICdMb2dpbkN0cmwnLCB0ZW1wbGF0ZVVybDogJ2xvZ2luLmh0bWwnIH0pXG5cdFx0XG5cdH0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uc2VydmljZSgnVXNlclN2YycsIGZ1bmN0aW9uICgkaHR0cCwgJGxvY2F0aW9uKSB7XG5cdHZhciBzdmMgPSB0aGlzXG5cdHN2Yy5nZXRVc2VyID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMnKVxuXHR9XG5cblx0c3ZjLmxvZ2luID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Nlc3Npb25zJywge1xuXHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxuXHRcdFx0cGFzc3dvcmQ6IHBhc3N3b3JkXG5cdFx0fSkudGhlbihmdW5jdGlvbiAodmFsKSB7XG5cdFx0XHR3aW5kb3cubG9jYWxTdG9yYWdlLnRva2VuID0gdmFsLmRhdGFcblx0XHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHZhbC5kYXRhXG5cdFx0XHRyZXR1cm4gc3ZjLmdldFVzZXIoKVxuXHRcdH0pXG5cdH1cblxuXHRzdmMuY3JlYXRlVXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuXHRcdHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywge1xuXHRcdFx0dXNlcm5hbWU6IHVzZXJuYW1lLFxuXHRcdFx0cGFzc3dvcmQ6IHBhc3N3b3JkXG5cdFx0fSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBcdFx0cmV0dXJuIHN2Yy5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpXG4gICAgXHR9KVxuXHR9XG5cblx0c3ZjLmxvZ291dCA9IGZ1bmN0aW9uKCl7XG5cdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gJydcblx0XHQkbG9jYXRpb24ucGF0aCgnL2xvZ2luJylcblx0fVxuXG5cdHN2Yy5zZXRYQXV0aEhlYWRlciA9IGZ1bmN0aW9uKGhlYWRlcil7XG5cdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddID0gaGVhZGVyXG5cdFx0cmV0dXJuIHN2Yy5nZXRVc2VyKClcblx0fVxufSkiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
