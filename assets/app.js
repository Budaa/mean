var app=angular.module("app",["ngRoute"]);angular.module("app").controller("ApplicationCtrl",["$scope","UserSvc",function(e,t){window.localStorage.token&&t.setXAuthHeader(window.localStorage.token).then(function(t){e.$emit("login",t.data)}),e.$on("login",function(t,o){e.currentUser=o}),e.logout=function(){delete e.currentUser,delete e.posts,delete window.localStorage.token,t.logout()}}]),angular.module("app").controller("LoginCtrl",["$scope","UserSvc","$location",function(e,t,o){e.login=function(n,r){t.login(n,r).then(function(t){delete e.loginError,e.$emit("login",t.data),o.path("/")},function(){e.loginError="Wrong username or password"})}}]),angular.module("app").controller("PostsCtrl",["$scope","PostsSvc",function(e,t){e.addPost=function(){e.postBody&&t.create({username:e.currentUser._id,body:e.postBody}).success(function(t){t.username={username:e.currentUser.username},e.posts.unshift(t),e.postBody=null})},e.removePost=function(o,n){t.deletePost({id:o}).success(function(){alert("Post has been deleted"),e.posts.splice(n,1)}).error(function(e){console.log(e)})},t.fetch().success(function(t){e.posts=t}).error(function(){e.postserr="Please log in!"})}]),angular.module("app").service("PostsSvc",["$http",function(e){this.fetch=function(t){return e.get("/api/posts",t)},this.create=function(t){return e.post("/api/posts",t)},this.deletePost=function(t){return e.put("/api/posts",t)}}]),angular.module("app").controller("RegisterCtrl",["$scope","UserSvc","$location",function(e,t,o){e.register=function(n,r,s){return n?s==r&&s?void t.createUser(n,r).then(function(t){e.$emit("login",t.data),o.path("/")},function(t){e.registerError=t.data,e.username="",e.password="",e.password2=""}):(e.registerError="Passwords don't match",null):(e.registerError="Please, select your username.",null)}}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{controller:"PostsCtrl",templateUrl:"posts.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"})}]),angular.module("app").service("UserSvc",["$http","$location",function(e,t){var o=this;o.getUser=function(){return e.get("/api/users")},o.login=function(t,n){return e.post("/api/sessions",{username:t,password:n}).then(function(t){return window.localStorage.token=t.data,e.defaults.headers.common["X-Auth"]=t.data,o.getUser()})},o.createUser=function(t,n){return e.post("/api/users",{username:t,password:n}).then(function(){return o.login(t,n)})},o.logout=function(){e.defaults.headers.common["X-Auth"]="",t.path("/login")},o.setXAuthHeader=function(t){return e.defaults.headers.common["X-Auth"]=t,o.getUser()}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJsb2dpbi5jdHJsLmpzIiwicG9zdHMuY3RybC5qcyIsInBvc3RzLnN2Yy5qcyIsInJlZ2lzdGVyLmN0cmwuanMiLCJyb3V0ZXMuanMiLCJ1c2VyLnN2Yy5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIlVzZXJTdmMiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJ0b2tlbiIsInNldFhBdXRoSGVhZGVyIiwidGhlbiIsInVzZXIiLCIkZW1pdCIsImRhdGEiLCIkb24iLCJfIiwiY3VycmVudFVzZXIiLCJsb2dvdXQiLCJwb3N0cyIsIiRsb2NhdGlvbiIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJlc3BvbnNlIiwibG9naW5FcnJvciIsInBhdGgiLCJQb3N0c1N2YyIsImFkZFBvc3QiLCJwb3N0Qm9keSIsImNyZWF0ZSIsIl9pZCIsImJvZHkiLCJzdWNjZXNzIiwicG9zdCIsInVuc2hpZnQiLCJyZW1vdmVQb3N0IiwiaWQiLCJpbmRleCIsImRlbGV0ZVBvc3QiLCJhbGVydCIsInNwbGljZSIsImVycm9yIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZldGNoIiwicG9zdHNlcnIiLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0IiwicHV0IiwicmVnaXN0ZXIiLCJwYXNzd29yZDIiLCJjcmVhdGVVc2VyIiwicmVnaXN0ZXJFcnJvciIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwic3ZjIiwiZ2V0VXNlciIsInZhbCIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImhlYWRlciJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBQUEsS0FBQUMsUUFBQUMsT0FBQSxPQUNBLFdDREFELFNBQUFDLE9BQUEsT0FDQUMsV0FBQSxtQkFBQSxTQUFBLFVBQUEsU0FBQUMsRUFBQUMsR0FDQUMs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QWYsS0FBQSxpQkFDQVosU0FBQUEsRUFDQUMsU0FBQUEsSUFDQVosS0FBQSxTQUFBb0QsR0FHQSxNQUZBeEQsUUFBQUMsYUFBQUMsTUFBQXNELEVBQUFqRCxLQUNBbUMsRUFBQWUsU0FBQUMsUUFBQUMsT0FBQSxVQUFBSCxFQUFBakQsS0FDQStDLEVBQUFDLGFBSUFELEVBQUFOLFdBQUEsU0FBQWpDLEVBQUFDLEdBQ0EsTUFBQTBCLEdBQUFmLEtBQUEsY0FDQVosU0FBQUEsRUFDQUMsU0FBQUEsSUFDQVosS0FBQSxXQUNBLE1BQUFrRCxHQUFBeEMsTUFBQUMsRUFBQUMsTUFJQXNDLEVBQUEzQyxPQUFBLFdBQ0ErQixFQUFBZSxTQUFBQyxRQUFBQyxPQUFBLFVBQUEsR0FDQTlDLEVBQUFNLEtBQUEsV0FHQW1DLEVBQUFuRCxlQUFBLFNBQUF5RCxHQUVBLE1BREFsQixHQUFBZSxTQUFBQyxRQUFBQyxPQUFBLFVBQUFDLEVBQ0FOLEVBQUFDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuXHQnbmdSb3V0ZSdcbl0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQXBwbGljYXRpb25DdHJsJywgWyckc2NvcGUnLCAnVXNlclN2YycsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2Yyl7XG5cdGlmKHdpbmRvdy5sb2NhbFN0b3JhZ2UudG9rZW4pIHtcblx0XHRVc2VyU3ZjLnNldFhBdXRoSGVhZGVyKHdpbmRvdy5sb2NhbFN0b3JhZ2UudG9rZW4pXG5cdFx0XHQudGhlbihmdW5jdGlvbih1c2VyKXtcblx0XHRcdFx0JHNjb3BlLiRlbWl0KCdsb2dpbicsIHVzZXIuZGF0YSlcblx0XHRcdH0pXG5cdH1cblx0JHNjb3BlLiRvbignbG9naW4nLCBmdW5jdGlvbihfLCB1c2VyKSB7XG5cdFx0JHNjb3BlLmN1cnJlbnRVc2VyID0gdXNlclxuXHR9KVxuXHQkc2NvcGUubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0ZGVsZXRlICRzY29wZS5jdXJyZW50VXNlclxuXHRcdGRlbGV0ZSAkc2NvcGUucG9zdHNcblx0XHRkZWxldGUgd2luZG93LmxvY2FsU3RvcmFnZS50b2tlblxuXHRcdFVzZXJTdmMubG9nb3V0KClcblx0fVxufV0pXG5cbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIFsnJHNjb3BlJywgJ1VzZXJTdmMnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU3ZjLCAkbG9jYXRpb24pe1xuXHQkc2NvcGUubG9naW4gPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcblx0XHRVc2VyU3ZjLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcblx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdGRlbGV0ZSAkc2NvcGUubG9naW5FcnJvclxuXHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgcmVzcG9uc2UuZGF0YSlcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy8nKVxuXHRcdFx0fSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkc2NvcGUubG9naW5FcnJvciA9IFwiV3JvbmcgdXNlcm5hbWUgb3IgcGFzc3dvcmRcIlxuXHRcdFx0fSlcblx0fVxufV0pIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignUG9zdHNDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBQb3N0c1N2Yyl7XG5cdCRzY29wZS5hZGRQb3N0ID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYoJHNjb3BlLnBvc3RCb2R5KSB7XG5cdFx0XHRQb3N0c1N2Yy5jcmVhdGUoe1xuXHRcdFx0XHR1c2VybmFtZTogJHNjb3BlLmN1cnJlbnRVc2VyLl9pZCxcblx0XHRcdFx0Ym9keTogJHNjb3BlLnBvc3RCb2R5XG5cblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24ocG9zdCkge1xuXHRcdFx0XHRwb3N0LnVzZXJuYW1lID0ge3VzZXJuYW1lOiAkc2NvcGUuY3VycmVudFVzZXIudXNlcm5hbWV9XG5cdFx0XHRcdCRzY29wZS5wb3N0cy51bnNoaWZ0KHBvc3QpXG5cdFx0XHRcdCRzY29wZS5wb3N0Qm9keSA9IG51bGxcblx0XHRcdH0pXG5cdFx0fVxuXHR9XG5cblx0JHNjb3BlLnJlbW92ZVBvc3QgPSBmdW5jdGlvbihpZCwgaW5kZXgpIHtcblx0XHRQb3N0c1N2Yy5kZWxldGVQb3N0KHtpZDogaWR9KS5zdWNjZXNzKGZ1bmN0aW9uKCl7XG5cdFx0XHRhbGVydCgnUG9zdCBoYXMgYmVlbiBkZWxldGVkJylcblx0XHRcdCRzY29wZS5wb3N0cy5zcGxpY2UoaW5kZXgsIDEpXG5cdFx0fSkuZXJyb3IoZnVuY3Rpb24oZXJyKXtcblx0XHRcdGNvbnNvbGUubG9nKGVycilcblx0XHR9KVxuXHR9XG5cblx0UG9zdHNTdmMuZmV0Y2goKS5zdWNjZXNzKGZ1bmN0aW9uKHBvc3RzKSB7XG5cdFx0JHNjb3BlLnBvc3RzID0gcG9zdHNcblx0fSkuZXJyb3IoZnVuY3Rpb24oKXtcblx0XHQkc2NvcGUucG9zdHNlcnIgPSBcIlBsZWFzZSBsb2cgaW4hXCJcblx0fSlcbn0pXG5cbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuXHQuc2VydmljZSgnUG9zdHNTdmMnLCBmdW5jdGlvbigkaHR0cCl7XG5cblx0XHR0aGlzLmZldGNoID0gZnVuY3Rpb24oaWQpIHsgXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Bvc3RzJywgaWQpXG5cdFx0fVxuXHRcdHRoaXMuY3JlYXRlID0gZnVuY3Rpb24ocG9zdCkge1xuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcG9zdHMnLCBwb3N0KVxuXHRcdH1cblxuXHRcdHRoaXMuZGVsZXRlUG9zdCA9IGZ1bmN0aW9uKGlkKSB7XG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Bvc3RzJywgaWQpXG5cblx0XHR9XG5cdH0pXG5cbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlclN2YywgJGxvY2F0aW9uKXtcblx0JHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkLCBwYXNzd29yZDIpe1xuXHRcdGlmICghdXNlcm5hbWUpIHtcblx0XHRcdCRzY29wZS5yZWdpc3RlckVycm9yID0gXCJQbGVhc2UsIHNlbGVjdCB5b3VyIHVzZXJuYW1lLlwiXG5cdFx0XHRyZXR1cm4gbnVsbFxuXHRcdH1cblxuXHRcdGlmKCBwYXNzd29yZDIgIT0gcGFzc3dvcmQgfHwgIXBhc3N3b3JkMikge1xuXHRcdFx0JHNjb3BlLnJlZ2lzdGVyRXJyb3IgPSBcIlBhc3N3b3JkcyBkb24ndCBtYXRjaFwiXG5cdFx0XHRyZXR1cm4gbnVsbFxuXHRcdH1cblx0XHRVc2VyU3ZjLmNyZWF0ZVVzZXIodXNlcm5hbWUsIHBhc3N3b3JkKVxuXHRcdFx0LnRoZW4oZnVuY3Rpb24odXNlcikge1xuXHRcdFx0XHQkc2NvcGUuJGVtaXQoJ2xvZ2luJywgdXNlci5kYXRhKVxuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnLycpXG5cdFx0fSwgZnVuY3Rpb24oZXJyKSB7XG5cdFx0XHQkc2NvcGUucmVnaXN0ZXJFcnJvciA9IGVyci5kYXRhXG5cdFx0XHQkc2NvcGUudXNlcm5hbWUgPSAnJ1xuXHRcdFx0JHNjb3BlLnBhc3N3b3JkID0gJydcblx0XHRcdCRzY29wZS5wYXNzd29yZDIgPSAnJ1xuXHRcdH0pXG5cdH0gXG59KVxuXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcblx0LmNvbmZpZyhmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xuXHRcdCRyb3V0ZVByb3ZpZGVyXG5cdFx0LndoZW4oJy8nLCB7IGNvbnRyb2xsZXI6ICdQb3N0c0N0cmwnLCB0ZW1wbGF0ZVVybDogJ3Bvc3RzLmh0bWwnIH0pXG5cdFx0LndoZW4oJy9yZWdpc3RlcicsIHsgY29udHJvbGxlcjogJ1JlZ2lzdGVyQ3RybCcsIHRlbXBsYXRlVXJsOiAncmVnaXN0ZXIuaHRtbCcgfSlcblx0XHQud2hlbignL2xvZ2luJywgeyBjb250cm9sbGVyOiAnTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdsb2dpbi5odG1sJyB9KVxuXHRcdFxuXHR9KSIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLnNlcnZpY2UoJ1VzZXJTdmMnLCBmdW5jdGlvbiAoJGh0dHAsICRsb2NhdGlvbikge1xuXHR2YXIgc3ZjID0gdGhpc1xuXHRzdmMuZ2V0VXNlciA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzJylcblx0fVxuXG5cdHN2Yy5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9zZXNzaW9ucycsIHtcblx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZSxcblx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZFxuXHRcdH0pLnRoZW4oZnVuY3Rpb24gKHZhbCkge1xuXHRcdFx0d2luZG93LmxvY2FsU3RvcmFnZS50b2tlbiA9IHZhbC5kYXRhXG5cdFx0XHQkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ10gPSB2YWwuZGF0YVxuXHRcdFx0cmV0dXJuIHN2Yy5nZXRVc2VyKClcblx0XHR9KVxuXHR9XG5cblx0c3ZjLmNyZWF0ZVVzZXIgPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcblx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VycycsIHtcblx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZSxcblx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZFxuXHRcdH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgXHRcdHJldHVybiBzdmMubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgIFx0fSlcblx0fVxuXG5cdHN2Yy5sb2dvdXQgPSBmdW5jdGlvbigpe1xuXHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9ICcnXG5cdFx0JGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpXG5cdH1cblxuXHRzdmMuc2V0WEF1dGhIZWFkZXIgPSBmdW5jdGlvbihoZWFkZXIpe1xuXHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IGhlYWRlclxuXHRcdHJldHVybiBzdmMuZ2V0VXNlcigpXG5cdH1cbn0pIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
